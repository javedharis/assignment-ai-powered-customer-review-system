<mxfile host="Electron" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.0.6 Chrome/138.0.7204.100 Electron/37.2.3 Safari/537.36" version="28.0.6">
  <diagram name="Customer Review System" id="system-arch">
    <mxGraphModel dx="1422" dy="856" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="AI-Powered Customer Review System Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#F0F0F0;" parent="1" vertex="1">
          <mxGeometry x="300" y="20" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="csv-input" value="CSV Files&#xa;(sample_reviews.csv)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5fe;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="50" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="api-input" value="Single Review&#xa;API Input" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5fe;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="50" y="200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cli-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#9c27b0;strokeWidth=2;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="220" y="80" width="160" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cli-title" value="CLI Management" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="230" y="90" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cli-enqueue" value="enqueue-all-reviews" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff3e0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="230" y="120" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cli-single" value="enqueue-single-review" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff3e0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="230" y="160" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cli-status" value="queue-status" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff3e0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="230" y="200" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cli-clear" value="clear-database" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffebee;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="230" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="redis-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffecb3;strokeColor=#ff8f00;strokeWidth=2;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="430" y="80" width="180" height="200" as="geometry" />
        </mxCell>
        <mxCell id="redis-title" value="Redis Queue System" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="440" y="90" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="main-queue" value="Main Queue" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff9c4;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="440" y="120" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="processing-queue" value="Processing" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff9c4;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="520" y="120" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="retry-queue" value="Retry Queue" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff9c4;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="440" y="160" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failed-queue" value="Failed Queue" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcdd2;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="520" y="160" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="queue-stats" value="Queue Statistics" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#c8e6c9;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="440" y="200" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="worker-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;strokeWidth=2;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="710" y="80" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="worker-title" value="Review Worker" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="720" y="90" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="worker-features" value="• Max 3 retries&#xa;• 5s retry delay&#xa;• Status monitoring&#xa;• Error handling&#xa;• Failed review processing" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="720" y="120" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="worker-commands" value="python worker/review_worker.py&#xa;--max-retries 5&#xa;--status" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=monospace;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="720" y="210" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="logic-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#9c27b0;strokeWidth=2;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="80" y="340" width="760" height="120" as="geometry" />
        </mxCell>
        <mxCell id="logic-title" value="Review Processing Logic (logic/review_processor.py)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="90" y="350" width="740" height="25" as="geometry" />
        </mxCell>
        <mxCell id="step1" value="1. Save Raw Review" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e8f5e8;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="100" y="380" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step2" value="2. Update Status" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e8f5e8;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="220" y="380" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step3" value="3. AI Processing" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff3e0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="340" y="380" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step4" value="4. Save Structured" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e8f5e8;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="460" y="380" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step5" value="5. Mark Complete" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#c8e6c9;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="580" y="380" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="retry-logic" value="Retry Logic" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcdd2;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="700" y="380" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="deepseek-api" value="DeepSeek AI API&#xa;• Sentiment Analysis&#xa;• Topic Extraction&#xa;• Problem ID&#xa;• Suggestions" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#e3f2fd;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="280" y="490" width="220" height="120" as="geometry" />
        </mxCell>
        <mxCell id="database-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#689f38;strokeWidth=2;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="80" y="620" width="760" height="100" as="geometry" />
        </mxCell>
        <mxCell id="db-title" value="SQLite Database - Status Tracking and Data Storage" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="90" y="630" width="740" height="25" as="geometry" />
        </mxCell>
        <mxCell id="raw-reviews" value="raw_reviews&#xa;• review_id (PK)&#xa;• date, rating, text" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#c8e6c9;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="100" y="660" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="review-status" value="review_statuses&#xa;• status, stage&#xa;• retry_count, errors" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff3e0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="250" y="660" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="structured-reviews" value="structured_reviews&#xa;• sentiment, topics&#xa;• problems, insights" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5fe;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="420" y="660" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="db-features" value="Features:&#xa;• UNIQUE constraints&#xa;• Retry-safe operations&#xa;• Foreign key relationships" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="590" y="660" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="flow-arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#1976d2;fontColor=#000000;" parent="1" source="csv-input" target="cli-box" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.7;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#1976d2;fontColor=#000000;" parent="1" source="api-input" target="cli-box" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#ff8f00;fontColor=#000000;" parent="1" source="cli-box" target="redis-box" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#4caf50;fontColor=#000000;" parent="1" source="redis-box" target="worker-box" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.8;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#9c27b0;fontColor=#000000;" parent="1" source="worker-box" target="logic-box" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#2196f3;fontColor=#000000;" parent="1" source="step3" target="deepseek-api" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#689f38;fontColor=#000000;" parent="1" source="logic-box" target="database-box" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="460" y="490" />
              <mxPoint x="530" y="490" />
              <mxPoint x="530" y="600" />
              <mxPoint x="460" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="step-flow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#666;fontColor=#000000;" parent="1" source="step1" target="step2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step-flow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#666;fontColor=#000000;" parent="1" source="step2" target="step3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step-flow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#666;fontColor=#000000;" parent="1" source="step3" target="step4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step-flow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#666;fontColor=#000000;" parent="1" source="step4" target="step5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="retry-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#f44336;dashed=1;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="retry-logic" target="step1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="320" />
              <mxPoint x="150" y="320" />
            </Array>
            <mxPoint x="150" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="flow-label1" value="Input" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#F2F2F2;" parent="1" vertex="1">
          <mxGeometry x="180" y="150" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow-label2" value="Queue" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#F5F5F5;" parent="1" vertex="1">
          <mxGeometry x="390" y="150" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow-label3" value="Process" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#FAFAFA;" parent="1" vertex="1">
          <mxGeometry x="610" y="150" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="retry-label" value="Retry on Failure" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;color=#f44336;fontColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="400" y="300" width="100" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
